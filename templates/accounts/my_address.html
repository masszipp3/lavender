{% extends 'base.html' %}
{% load static %} 
{% block content%}
{% if messages %}
{% for message in messages %}
<div id="message" class="container">
  <div {% if message.tags %} class="alert alert-{{ message.tags }}" {% endif %} role="alert" >
      <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>
      {% if message.level  == DEFAULT_MESSAGE_LEVELS.ERROR %}error: {% endif %}
      {{ message }}

  </div>
</div>
{% endfor %}
{% endif %}
 <!-- ...:::: Start Account Dashboard Section:::... -->
 <div class="account-dashboard" style="margin-top: 60px;">
  <div class="container">
      <div class="row">
          <div class="col-sm-12 col-md-3 col-lg-3">
              <!-- Nav tabs -->
             {% include 'sidebar.html' %}
          </div>
          <div class="col-sm-12 col-md-9 col-lg-9  " style="height: 80%;">
              <!-- Tab panes -->
              <div class="tab-content dashboard_content" data-aos="fade-up" data-aos-delay="200">
                  
                 
                      <h4>Your Addresses</h4>
                      <div class="table_page table-responsive">
                         
                        <article class="card">
                          <!-- <header class="card-header">
                            <strong class="d-inline-block mr-3">Your Adresses</strong>
                          </header> -->
                          {% if address %}
                          <div class="card-body">
                            <div class="row">
                
                              <div class="col-md-12">
                              
                
                          {% for item in address %}
                
                          <h5 class="card-header bg-dark text-black" style="background-color: #EAEBFF !important;" >Address {{forloop.counter}}</h5>
                
                          <div class="card-body form-check row">
                            <div class="row">
                              <div class="col-md-12">                      
                                <div class="d-block">
                                    <p class="card-text mb-0"><b>{{item.name}}</b> <br> {{item.address_line_1}}<br> {{item.address_line_2}}<br> {{item.state}}<br>{{item.city}}<br>{{item.country}} </p>
                                    <p class="cart-text mb-0">{{item.email}}</p>
                                    <p class="cart-text mb-0">{{item.phone}}</p>
                                </div>
                                <div class="mt-3 " style="display: flex;">
                                  <a href="{% url 'edit_address' item.id %}"><button class="btn btn-md btn-golden btn-block" style="height: 40px;width: max-content;margin: 2%;">Edit</button></a>
                                  <a href="{% url 'delete_address' item.id %}" onclick="return confirm('Are you sure you want to delete this item?')"><button class="btn btn-md btn-golden btn-block" style="height: 40px;width: max-content;margin: 2%;">Delete</button></a>
                                </div>
                              </div>  
                            </div>        
                          </div>     
                
                          <!-- Modal -->
                         
                          
                              <hr>
                          {%endfor%}
                             
                          </div>
                                    
                          <div class="card-body form-check row">
                              <div class="col-12  py-2">
                                  <div class="row d-flex align-content-center">
                                      <div class="col-12 d-block ml-2 d-flex">
                                          <p class="card-text mt-1 mr-3 "><b class="text-center">Add New Address</b></p>
                                          <a href="{% url 'add_address' %}" class="btn btn-sm btn-golden btn-block" style="height: fit-content;width: max-content;">Add</a>
                                      </div>
                                  </div>
                                  
                              </div>
                          
                          
                          
                          {%else%}
                          <div class="card-body form-check row d-flex align-items-center" style="height: 328px;">
                              <div class="col-12  py-5">
                                  <div class="row d-flex align-content-center">
                                      <div class="col-12 d-block ml-2">
                                          <p class="card-text mb-0 h2 text-center"><b>No addresses found in your account!</b></p>
                                      </div>
                                      <a href="{% url 'add_address' %}" class="btn btn-md btn-golden btn-block" >Add Address</a>
                                  </div>
                                  
                              </div>              
                          </div>
                          
                              
                              </div>
                            </div>
                          </div>
                          {%endif%}
                   
                        </article>
                      </div>
                 
                 
                  
              </div>
          </div>
      </div>
  </div>
</div> <!-- ...:::: End Account Dashboard Section:::... -->



{% endblock %}