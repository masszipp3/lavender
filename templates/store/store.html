{% extends 'base.html' %}
{% load static %}

{% block content %}

  <!-- ...:::: Start Shop Section:::... -->
  <div class="shop-section" style="margin-top:50px ;">
    <div class="container">
        <div class="row flex-column-reverse flex-lg-row">
            <div class="col-lg-3">
                <!-- Start Sidebar Area -->
                <div class="siderbar-section" data-aos="fade-up" data-aos-delay="0">

                    <!-- Start Single Sidebar Widget -->
                    <div class="sidebar-single-widget">
                        <h6 class="sidebar-title">CATEGORIES</h6>
                        <div class="sidebar-content">
                            <ul class="sidebar-menu">
                               {% for category in links %}
                                <li><a href="{{ category.get_url }}">{{ category.category_name }}</a></li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div> <!-- End Single Sidebar Widget -->

                    <!-- Start Single Sidebar Widget -->
                    
                    <!-- End Single Sidebar Widget -->


                    <!-- Start Single Sidebar Widget -->
                    <div class="sidebar-single-widget">
                        <div class="sidebar-content">
                            <a href="product-details-default.html" class="sidebar-banner img-hover-zoom">
                                <img class="img-fluid" src="assets/images/banner/side-banner.jpg" alt="">
                            </a>
                        </div>
                    </div> <!-- End Single Sidebar Widget -->

                </div> <!-- End Sidebar Area -->
            </div>
            <div class="col-lg-9">
                <!-- Start Shop Product Sorting Section -->
                <div class="shop-sort-section">
                    <div class="container">
                        <div class="row">
                            <!-- Start Sort Wrapper Box -->
                            <div class="sort-box d-flex justify-content-between align-items-md-center align-items-start flex-md-row flex-column"
                                data-aos="fade-up" data-aos-delay="0">
                                <!-- Start Sort tab Button -->
                                <div class="sort-tablist d-flex align-items-center">
                                    <ul class="tablist nav sort-tab-btn">
                                        <li><a class="nav-link active" data-bs-toggle="tab"
                                                href="#layout-3-grid"><img src="{% static 'images/icons/bkg_grid.png' %}"
                                                    alt=""></a></li>
                                        <li><a class="nav-link" data-bs-toggle="tab" href="#layout-list"><img
                                                    src="{% static 'images/icons/bkg_list.png' %}" alt=""></a></li>
                                    </ul>

                                    <!-- Start Page Amount -->
                                    <div class="page-amount ml-2">
                                        <span>Showing <b>{{ product_count }}</b> results</span>
                                    </div> <!-- End Page Amount -->
                                </div> <!-- End Sort tab Button -->

                                <!-- Start Sort Select Option -->
                                <!-- <div class="sort-select-list d-flex align-items-center">
                                    <label class="mr-2">Sort By:</label>
                                    <form action="#">
                                        <fieldset>
                                            <select name="speed" id="speed">
                                                <option>Sort by average rating</option>
                                                <option>Sort by popularity</option>
                                                <option selected="selected">Sort by newness</option>
                                                <option>Sort by price: low to high</option>
                                                <option>Sort by price: high to low</option>
                                                <option>Product Name: Z</option>
                                            </select>
                                        </fieldset>
                                    </form>
                                </div> End Sort Select Option -->



                            </div> <!-- Start Sort Wrapper Box -->
                        </div>
                    </div>
                </div> <!-- End Section Content -->

                <!-- Start Tab Wrapper -->
                <div class="sort-product-tab-wrapper">
                    <div class="container">
                        <div class="row">
                            <div class="col-12">
                                <div class="tab-content tab-animate-zoom">
                                    <!-- Start Grid View Product -->
                                    <div class="tab-pane active show sort-layout-single" id="layout-3-grid">
                                        <div class="row">
                                            {% if products %}
                                            {% for product in products %}
                                            <div class="col-xl-4 col-sm-6 col-12">
                                                <!-- Start Product Default Single Item -->
                                                <div class="product-default-single-item product-color--golden"
                                                    data-aos="fade-up" data-aos-delay="0">
                                                    <div class="image-box">
                                                        <a href="{{ product.get_url }}" class="image-link">
                                                            <img src="{{ product.image.url }}"
                                                                alt="">
                                                            <img src="{{ product.image.url }}"
                                                                alt="">
                                                        </a>
                                                        <div class="action-link">
                                                            <div class="action-link-left" style="align-items: center;">
                                                                <a href="{{ product.get_url }}">View Details</a>
                                                            </div>
                                                           
                                                        </div>
                                                    </div>
                                                    <div class="content">
                                                        <div class="content-left">
                                                            <h6 class="title"><a
                                                                    href="{{ product.get_url }}">{{ product.product_name}}</a></h6>
                                                           
                                                        </div>
                                                        <div class="content-right">
                                                            <span class="price">Rs.{{ product.price}}</span>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- End Product Default Single Item -->
                                            </div>
                                           {% endfor %}
                                           {% else %}
                                           <div class="error-section" style="margin-top: 10%;">
                                            <div class="container">
                                                <div class="row">
                                                    <div class="error-form">
                                                        <h4 class="sub-title" data-aos="fade-up" data-aos-delay="200">Opps! NO RESULTS FOUND</h4>

                                                        <div class="row">
                                                            <div class="col-10 offset-1 col-md-4 offset-md-4">
                                                                
                                                                <a href="{% url 'store' %}" class="btn btn-md btn-black-default-hover mt-7" data-aos="fade-up"
                                                                    data-aos-delay="800">Back to home page</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> <!-- ...:::: End Error Section :::... -->
                                    
                                          {% endif %}                                      
                                        </div>
                                    </div> <!-- End Grid View Product -->
                                    <!-- Start List View Product -->
                                    <div class="tab-pane sort-layout-single" id="layout-list">
                                        <div class="row">
                                            {% for product in products %}
                                            <div class="col-12">
                                                <!-- Start Product Defautlt Single -->
                                                <div class="product-list-single product-color--golden">
                                                    <a href="{{ product.get_url }}"
                                                        class="product-list-img-link">
                                                        <img class="img-fluid"
                                                            src="{{ product.image.url }}"
                                                            alt="">
                                                        <img class="img-fluid"
                                                            src="{{ product.image.url }}"
                                                            alt="">
                                                    </a>
                                                    <div class="product-list-content">
                                                        <h5 class="product-list-link"><a
                                                                href="{{ product.get_url }}" >{{ product.product_name }}</a></h5>
                                                       
                                                        <span class="product-list-price">
                                                           Rs.{{ product.price }}</span>
                                                        <p>{{ product.description }}</p>
                                                        <div class="product-action-icon-link-list">
                                                            <a href="{{ product.get_url }}" 
                                                                class="btn btn-lg btn-black-default-hover">View Details</a>
                                                           
                                                            
                                                        </div>
                                                    </div>
                                                </div> <!-- End Product Defautlt Single -->
                                            </div>
                                          {% endfor %}
                                        </div>
                                    </div> <!-- End List View Product -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- End Tab Wrapper -->

                <!-- Start Pagination -->
                {% if products.has_other_pages %}
                <div class="page-pagination text-center" data-aos="fade-up" data-aos-delay="0">
                    <ul>
                        {% if products.has_previous %}
                        <li><a href="?page={{ products.previous_page_number }}">Previous</a></li>
                        {% endif %}
                        {% for i in products.paginator.page_range %}
                        {% if products.number == i %}

                        <li><a class="active" href="#">{{i}}</a></li>
                        {% else %}
                        <li><a href="?page={{i}}">{{i}}</a></li>
                        {% endif %}
                        {% endfor %}

                        {% if products.has_next %}
                        <li><a href="?page={{products.next_page_number}}">Next</a></li>
                       
                        {% endif %}
                    </ul>
                </div>
                {% endif %} <!-- End Pagination -->
           
           
            </div>
        </div>
    </div>
</div> <!-- ...:::: End Shop Section:::... -->


{% endblock %}